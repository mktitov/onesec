<?xml version="1.0" encoding="UTF-8"?>
<nodes>
  <node name="Listening scenario" class="org.raven.template.impl.TemplateNode">
    <attribute name="logLevel">
      <value><![CDATA[WARN]]></value>
    </attribute>
    <attribute name="executeAfter" valueHandler="Script">
      <value></value>
    </attribute>
    <node name="Variables" class="org.raven.template.impl.TemplateVariablesNode">
      <attribute name="vmailManager" type="org.raven.tree.Node" required="true" valueHandler="NodeReference">
        <description><![CDATA[Voice mail manager node]]></description>
      </attribute>
    </node>
    <node name="Entry" class="org.raven.template.impl.TemplateEntry">
      <node name="Listening scenario" class="org.onesec.raven.ivr.impl.IvrConversationScenarioNode">
        <attribute name="logLevel">
          <value><![CDATA[WARN]]></value>
        </attribute>
        <attribute name="getWordByNumber" type="java.lang.String" valueHandler="Script">
          <description><![CDATA[]]></description>
          <value><![CDATA[//getWordByNumber
//in: number(Int), words[_,_,_]
//out: String

words[number.toString().with{ it==~ /.*(1.|[5-90])$/? 2 : (it==~/.*1$/? 0 : 1) }]]]></value>
        </attribute>
        <attribute name="validDtmfs">
          <value></value>
        </attribute>
        <attribute name="vmailManager" type="org.raven.tree.Node" valueHandler="TemplateVariable">
          <description><![CDATA[]]></description>
          <value><![CDATA[/"Templates"/"test group of templates"/"Listen scenario"/"Variables"/@vmailManager]]></value>
        </attribute>
        <node name="Action groups" class="org.onesec.raven.ivr.impl.ActionGroupsNode">
          <attribute name="logLevel">
            <value><![CDATA[WARN]]></value>
          </attribute>
          <node name="play message" class="org.onesec.raven.ivr.impl.ActionGroupNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <node name="play sender phone" class="org.onesec.raven.ivr.actions.SayNumberActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="genus">
                <value><![CDATA[MALE]]></value>
              </attribute>
              <attribute name="pauseBetweenNumbers">
                <value><![CDATA[50]]></value>
              </attribute>
              <attribute name="number" valueHandler="Script">
                <value><![CDATA[message.senderPhoneNumber]]></value>
              </attribute>
              <attribute name="enableZero">
                <value><![CDATA[true]]></value>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[0]]></value>
              </attribute>
              <attribute name="numbersNode" valueHandler="ResourceReference">
                <value><![CDATA[IVR/sounds/numbers/male/]]></value>
              </attribute>
              <node name="ddd_ddd_dd_dd" class="org.onesec.raven.ivr.actions.RegexpPattern">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <attribute name="pattern">
                  <value><![CDATA[.*(\d\d\d)(\d\d\d)(\d\d)(\d\d)$]]></value>
                </attribute>
              </node>
              <node name="ddd_dd_dd" class="org.onesec.raven.ivr.actions.RegexpPattern">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <attribute name="pattern">
                  <value><![CDATA[.*(\d\d\d)(\d\d)(\d\d)$]]></value>
                </attribute>
              </node>
              <node name="ddd_ddd" class="org.onesec.raven.ivr.actions.RegexpPattern">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <attribute name="pattern">
                  <value><![CDATA[.*(\d\d\d)(\d\d\d)$]]></value>
                </attribute>
              </node>
              <node name="dd_ddd" class="org.onesec.raven.ivr.actions.RegexpPattern">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <attribute name="pattern">
                  <value><![CDATA[.*(\d\d)(\d\d\d)$]]></value>
                </attribute>
              </node>
            </node>
            <node name="say received" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="playAtRepetition">
                <value></value>
              </attribute>
              <attribute name="audioFile" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"received"/]]></value>
              </attribute>
            </node>
            <node name="say day" class="org.raven.expr.impl.SwitchNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="value" valueHandler="Script">
                <value><![CDATA[new Date() - value.messageDate]]></value>
              </attribute>
              <node name="say day" class="org.raven.expr.impl.ExpressionConditionNode">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <attribute name="condition" valueHandler="Script">
                  <value><![CDATA[value<3]]></value>
                </attribute>
                <node name="say сегодня|вчера|позавчера" class="org.onesec.raven.ivr.actions.SayWordsActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="wordsNode" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"time words"/"male"/]]></value>
                  </attribute>
                  <attribute name="pauseBetweenWords">
                    <value><![CDATA[10]]></value>
                  </attribute>
                  <attribute name="words" valueHandler="Script">
                    <value><![CDATA[['сегодня', 'вчера', 'позавчера'][new Date() - message.messageDate]]]></value>
                  </attribute>
                </node>
              </node>
              <node name="say day and month" class="org.raven.expr.impl.DefaultCondition">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <node name="say day" class="org.raven.expr.impl.SwitchNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="value" valueHandler="Script">
                    <value><![CDATA[conversationState.bindings.message.messageDate[Calendar.DAY_OF_MONTH]]]></value>
                  </attribute>
                  <node name="20, 30" class="org.raven.expr.impl.ExpressionConditionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="condition" valueHandler="Script">
                      <value><![CDATA[value==20 || value==30]]></value>
                    </attribute>
                    <node name="say day number" class="org.onesec.raven.ivr.actions.SayWordsActionNode">
                      <attribute name="logLevel">
                        <value><![CDATA[WARN]]></value>
                      </attribute>
                      <attribute name="wordsNode" valueHandler="ResourceReference">
                        <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/]]></value>
                      </attribute>
                      <attribute name="pauseBetweenWords">
                        <value><![CDATA[10]]></value>
                      </attribute>
                      <attribute name="words" valueHandler="Script">
                        <value><![CDATA['_'+message.messageDate[Calendar.DATE]]]></value>
                      </attribute>
                    </node>
                  </node>
                  <node name="default" class="org.raven.expr.impl.DefaultCondition">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <node name="say day number" class="org.onesec.raven.ivr.actions.SayNumberActionNode">
                      <attribute name="logLevel">
                        <value><![CDATA[WARN]]></value>
                      </attribute>
                      <attribute name="genus">
                        <value><![CDATA[MALE]]></value>
                      </attribute>
                      <attribute name="pauseBetweenNumbers">
                        <value><![CDATA[100]]></value>
                      </attribute>
                      <attribute name="number" valueHandler="Script">
                        <value><![CDATA[message.messageDate[Calendar.DATE].toString()]]></value>
                      </attribute>
                      <attribute name="enableZero">
                        <value><![CDATA[false]]></value>
                      </attribute>
                      <attribute name="pauseBetweenWords">
                        <value><![CDATA[10]]></value>
                      </attribute>
                      <attribute name="numbersNode" valueHandler="ResourceReference">
                        <value><![CDATA[IVR/sounds/numbers2/male/]]></value>
                      </attribute>
                    </node>
                  </node>
                </node>
                <node name="say month" class="org.onesec.raven.ivr.actions.SayNumberActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="genus">
                    <value><![CDATA[MALE]]></value>
                  </attribute>
                  <attribute name="pauseBetweenNumbers">
                    <value><![CDATA[100]]></value>
                  </attribute>
                  <attribute name="number" valueHandler="Script">
                    <value><![CDATA[''+(message.messageDate[Calendar.MONTH]+1)]]></value>
                  </attribute>
                  <attribute name="enableZero">
                    <value><![CDATA[false]]></value>
                  </attribute>
                  <attribute name="pauseBetweenWords">
                    <value><![CDATA[10]]></value>
                  </attribute>
                  <attribute name="numbersNode" valueHandler="ResourceReference">
                    <value><![CDATA[IVR/sounds/months/male/]]></value>
                  </attribute>
                </node>
              </node>
            </node>
            <node name="say hours number" class="org.onesec.raven.ivr.actions.SayNumberActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="genus">
                <value><![CDATA[MALE]]></value>
              </attribute>
              <attribute name="pauseBetweenNumbers">
                <value><![CDATA[100]]></value>
              </attribute>
              <attribute name="number" valueHandler="Script">
                <value><![CDATA[message.messageDate[Calendar.HOUR_OF_DAY].toString()]]></value>
              </attribute>
              <attribute name="enableZero">
                <value><![CDATA[true]]></value>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[10]]></value>
              </attribute>
              <attribute name="numbersNode" valueHandler="ResourceReference">
                <value><![CDATA[IVR/sounds/numbers/male/]]></value>
              </attribute>
            </node>
            <node name="say hours" class="org.onesec.raven.ivr.actions.SayWordsActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="wordsNode" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"time words"/"male"/]]></value>
              </attribute>
              <attribute name="getWordByNumber" type="java.lang.String">
                <description><![CDATA[]]></description>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[10]]></value>
              </attribute>
              <attribute name="words" valueHandler="Script">
                <value><![CDATA[node.$getWordByNumber number:message.messageDate[Calendar.HOUR_OF_DAY], words:['час', 'часа', 'часов']]]></value>
              </attribute>
            </node>
            <node name="say minutes number" class="org.onesec.raven.ivr.actions.SayNumberActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="genus">
                <value><![CDATA[FEMALE]]></value>
              </attribute>
              <attribute name="numbersNode1" type="org.raven.tree.Node" valueHandler="ResourceReference">
                <description><![CDATA[]]></description>
                <value><![CDATA[IVR/sounds/numbers/male/]]></value>
              </attribute>
              <attribute name="pauseBetweenNumbers">
                <value><![CDATA[100]]></value>
              </attribute>
              <attribute name="number" valueHandler="Script">
                <value><![CDATA[message.messageDate[Calendar.MINUTE].toString()]]></value>
              </attribute>
              <attribute name="enableZero">
                <value><![CDATA[true]]></value>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[10]]></value>
              </attribute>
              <attribute name="numbersNode" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/]]></value>
              </attribute>
            </node>
            <node name="say minutes" class="org.onesec.raven.ivr.actions.SayWordsActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="wordsNode" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"time words"/"male"/]]></value>
              </attribute>
              <attribute name="getWordByNumber" type="java.lang.String">
                <description><![CDATA[]]></description>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[10]]></value>
              </attribute>
              <attribute name="words" valueHandler="Script">
                <value><![CDATA[node.$getWordByNumber number:message.messageDate[Calendar.MINUTE], words:['минуту', 'минуты', 'минут']]]></value>
              </attribute>
            </node>
            <node name="play message" class="org.onesec.raven.ivr.actions.PlayAudioFromSourceActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="useExpression">
                <value><![CDATA[false]]></value>
              </attribute>
              <attribute name="usePreProcess">
                <value><![CDATA[true]]></value>
              </attribute>
              <attribute name="preProcess" valueHandler="Script">
                <value><![CDATA[message.audioSource]]></value>
              </attribute>
              <attribute name="expression" valueHandler="Script">
                <value></value>
              </attribute>
              <attribute name="dataSource" valueHandler="Script">
                <value></value>
              </attribute>
            </node>
          </node>
        </node>
        <node name="if has vbox" class="org.onesec.raven.ivr.vmail.actions.IfHasVMailBoxActionNode">
          <attribute name="logLevel">
            <value><![CDATA[WARN]]></value>
          </attribute>
          <attribute name="detectVMailBoxNumberForm">
            <value><![CDATA[CALLING_NUMBER]]></value>
          </attribute>
          <attribute name="vmailManager" valueHandler="NodeReference">
            <value><![CDATA[../../VMail manager]]></value>
          </attribute>
          <node name="sync waiting mess indicator" class="org.onesec.raven.ivr.actions.ExecuteExpressionActionNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="expression" valueHandler="Script">
              <value><![CDATA[vmailBox.refreshStatus()]]></value>
            </attribute>
          </node>
          <node name="goto main menu" class="org.raven.conv.impl.GotoNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="conversationPoint" valueHandler="NodeReference">
              <value><![CDATA[../../main menu]]></value>
            </attribute>
          </node>
        </node>
        <node name="determine vbox menu" class="org.onesec.raven.ivr.impl.IvrConversationScenarioPointNode">
          <attribute name="logLevel">
            <value><![CDATA[WARN]]></value>
          </attribute>
          <attribute name="validDtmfs">
            <value></value>
          </attribute>
          <node name="stop" class="org.onesec.raven.ivr.actions.StopConversationActionNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
          </node>
        </node>
        <node name="main menu" class="org.onesec.raven.ivr.impl.IvrConversationScenarioPointNode">
          <attribute name="logLevel">
            <value><![CDATA[WARN]]></value>
          </attribute>
          <attribute name="validDtmfs">
            <value><![CDATA[12]]></value>
          </attribute>
          <node name="if dtmf==1" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="dtmf">
              <value><![CDATA[1]]></value>
            </attribute>
            <node name="goto new messages menu" class="org.raven.conv.impl.GotoNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="conversationPoint" valueHandler="NodeReference">
                <value><![CDATA[../../../new messages menu]]></value>
              </attribute>
            </node>
          </node>
          <node name="if dtmf==2" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="dtmf">
              <value><![CDATA[2]]></value>
            </attribute>
            <node name="goto saved messages menu" class="org.raven.conv.impl.GotoNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="conversationPoint" valueHandler="NodeReference">
                <value><![CDATA[../../../"saved messages menu"/]]></value>
              </attribute>
            </node>
          </node>
          <node name="if repetitionCount>1" class="org.raven.expr.impl.IfNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="usedInTemplate">
              <value><![CDATA[false]]></value>
            </attribute>
            <attribute name="expression" valueHandler="Script">
              <value><![CDATA[repetitionCount>1]]></value>
            </attribute>
            <node name="stop" class="org.onesec.raven.ivr.actions.StopConversationActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
            </node>
          </node>
          <node name="if has new messages" class="org.raven.expr.impl.IfNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="usedInTemplate">
              <value><![CDATA[false]]></value>
            </attribute>
            <attribute name="expression" valueHandler="Script">
              <value><![CDATA[vmailBox.newMessagesCount>0]]></value>
            </attribute>
            <node name="play You have" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="playAtRepetition">
                <value></value>
              </attribute>
              <attribute name="audioFile" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"you_have"/]]></value>
              </attribute>
            </node>
            <node name="play count" class="org.onesec.raven.ivr.actions.SayNumberActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="genus">
                <value><![CDATA[NEUTER]]></value>
              </attribute>
              <attribute name="pauseBetweenNumbers">
                <value><![CDATA[100]]></value>
              </attribute>
              <attribute name="number" valueHandler="Script">
                <value><![CDATA[vmailBox.newMessagesCount.toString()]]></value>
              </attribute>
              <attribute name="enableZero">
                <value><![CDATA[false]]></value>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[10]]></value>
              </attribute>
              <attribute name="numbersNode" valueHandler="ResourceReference">
                <value><![CDATA[IVR/sounds/numbers/male/]]></value>
              </attribute>
            </node>
            <node name="say new messages" class="org.onesec.raven.ivr.actions.SayWordsActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="wordsNode" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/]]></value>
              </attribute>
              <attribute name="getWordByNumber" type="java.lang.String">
                <description><![CDATA[]]></description>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[10]]></value>
              </attribute>
              <attribute name="words" valueHandler="Script">
                <value><![CDATA[node.$getWordByNumber number:vmailBox.newMessagesCount, words:['new_message1','new_message2','new_message3']]]></value>
              </attribute>
            </node>
          </node>
          <node name="if has saved messages" class="org.raven.expr.impl.IfNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="usedInTemplate">
              <value><![CDATA[false]]></value>
            </attribute>
            <attribute name="expression" valueHandler="Script">
              <value><![CDATA[vmailBox.savedMessagesCount>0]]></value>
            </attribute>
            <node name="say 'and' or 'you have'" class="org.onesec.raven.ivr.actions.SayWordsActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="wordsNode" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/]]></value>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[10]]></value>
              </attribute>
              <attribute name="words" valueHandler="Script">
                <value><![CDATA[vmailBox.newMessagesCount>0? 'and' : 'you_have']]></value>
              </attribute>
            </node>
            <node name="play count" class="org.onesec.raven.ivr.actions.SayNumberActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="genus">
                <value><![CDATA[NEUTER]]></value>
              </attribute>
              <attribute name="pauseBetweenNumbers">
                <value><![CDATA[100]]></value>
              </attribute>
              <attribute name="number" valueHandler="Script">
                <value><![CDATA[vmailBox.savedMessagesCount.toString()]]></value>
              </attribute>
              <attribute name="enableZero">
                <value><![CDATA[false]]></value>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[10]]></value>
              </attribute>
              <attribute name="numbersNode" valueHandler="ResourceReference">
                <value><![CDATA[IVR/sounds/numbers/male/]]></value>
              </attribute>
            </node>
            <node name="say saved messages" class="org.onesec.raven.ivr.actions.SayWordsActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="wordsNode" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/]]></value>
              </attribute>
              <attribute name="getWordByNumber" type="java.lang.String">
                <description><![CDATA[]]></description>
              </attribute>
              <attribute name="pauseBetweenWords">
                <value><![CDATA[10]]></value>
              </attribute>
              <attribute name="words" valueHandler="Script">
                <value><![CDATA[node.$getWordByNumber number:vmailBox.savedMessagesCount, words:['saved_message1','saved_message2','saved_message3']]]></value>
              </attribute>
            </node>
          </node>
          <node name="if has new messages_" class="org.raven.expr.impl.IfNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="usedInTemplate">
              <value><![CDATA[false]]></value>
            </attribute>
            <attribute name="expression" valueHandler="Script">
              <value><![CDATA[vmailBox.newMessagesCount>0]]></value>
            </attribute>
            <node name="play 1 to listen" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="playAtRepetition">
                <value></value>
              </attribute>
              <attribute name="audioFile" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_1_to_listen_new_messages"/]]></value>
              </attribute>
            </node>
          </node>
          <node name="if has saved messages_" class="org.raven.expr.impl.IfNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="usedInTemplate">
              <value><![CDATA[false]]></value>
            </attribute>
            <attribute name="expression" valueHandler="Script">
              <value><![CDATA[vmailBox.savedMessagesCount>0]]></value>
            </attribute>
            <node name="play 2 to listen" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="playAtRepetition">
                <value></value>
              </attribute>
              <attribute name="audioFile" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_2_to_listen_saved_messages"/]]></value>
              </attribute>
            </node>
          </node>
          <node name="if no new or saved messages" class="org.raven.expr.impl.IfNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="usedInTemplate">
              <value><![CDATA[false]]></value>
            </attribute>
            <attribute name="expression" valueHandler="Script">
              <value><![CDATA[!vmailBox.newMessagesCount && !vmailBox.savedMessagesCount]]></value>
            </attribute>
            <node name="say no messages" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="playAtRepetition">
                <value></value>
              </attribute>
              <attribute name="audioFile" valueHandler="ResourceReference">
                <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"no_messages"/]]></value>
              </attribute>
            </node>
          </node>
          <node name="pause 5 sec" class="org.onesec.raven.ivr.actions.PauseActionNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="interval">
              <value><![CDATA[5000]]></value>
            </attribute>
          </node>
          <node name="repeat" class="org.raven.conv.impl.GotoNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="conversationPoint" valueHandler="NodeReference">
              <value><![CDATA[../]]></value>
            </attribute>
          </node>
          <node name="reset messageIndex" class="org.onesec.raven.ivr.actions.ExecuteExpressionActionNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="expression" valueHandler="Script">
              <value><![CDATA[conversationState.bindings.messageIndex = 0]]></value>
            </attribute>
          </node>
        </node>
        <node name="new messages menu" class="org.onesec.raven.ivr.impl.IvrConversationScenarioPointNode">
          <attribute name="logLevel">
            <value><![CDATA[WARN]]></value>
          </attribute>
          <attribute name="validDtmfs">
            <value></value>
          </attribute>
          <node name="get new message" class="org.raven.expr.impl.SwitchNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="value" valueHandler="Script">
              <value><![CDATA[messages = vmailBox.getNewMessages()

if (messages.empty) return null

mess=messages.get(0)
conversationState.bindings.message=mess
conversationState.bindings.hasNextMessage = messages.size()>1
mess]]></value>
            </attribute>
            <node name="has message" class="org.raven.expr.impl.ExpressionConditionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="condition" valueHandler="Script">
                <value><![CDATA[value!=null]]></value>
              </attribute>
              <node name="play message" class="org.raven.tree.impl.GroupNode">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <node name="play new message from" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value><![CDATA[0]]></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"new_message_from_number"/]]></value>
                  </attribute>
                </node>
                <node name="play message" class="org.raven.tree.impl.GroupReferenceNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="groupNode" valueHandler="NodeReference">
                    <value><![CDATA[../../../../../"Action groups"/"play message"/]]></value>
                  </attribute>
                </node>
              </node>
              <node name="navigate" class="org.onesec.raven.ivr.impl.IvrConversationScenarioPointNode">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <attribute name="validDtmfs">
                  <value><![CDATA[123*]]></value>
                </attribute>
                <node name="if dtmf==1" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="dtmf">
                    <value><![CDATA[1]]></value>
                  </attribute>
                  <node name="delete message" class="org.onesec.raven.ivr.actions.ExecuteExpressionActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="expression" valueHandler="Script">
                      <value><![CDATA[conversationState.bindings.message.delete()]]></value>
                    </attribute>
                  </node>
                  <node name="goto new messages menu" class="org.raven.conv.impl.GotoNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="conversationPoint" valueHandler="NodeReference">
                      <value><![CDATA[../../../../../]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="if dtmf==2" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="dtmf">
                    <value><![CDATA[2]]></value>
                  </attribute>
                  <node name="save message" class="org.onesec.raven.ivr.actions.ExecuteExpressionActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="expression" valueHandler="Script">
                      <value><![CDATA[conversationState.bindings.message.save()]]></value>
                    </attribute>
                  </node>
                  <node name="goto new messages menu" class="org.raven.conv.impl.GotoNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="conversationPoint" valueHandler="NodeReference">
                      <value><![CDATA[../../../../../]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="if dtmf==3" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="dtmf">
                    <value><![CDATA[3]]></value>
                  </attribute>
                  <node name="goto new messages menu" class="org.raven.conv.impl.GotoNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="conversationPoint" valueHandler="NodeReference">
                      <value><![CDATA[../../../../../]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="if dtmf==*" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="dtmf">
                    <value><![CDATA[*]]></value>
                  </attribute>
                  <node name="goto new messages menu" class="org.raven.conv.impl.GotoNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="conversationPoint" valueHandler="NodeReference">
                      <value><![CDATA[../../../../../../main menu]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="if repetitionCount>1" class="org.raven.expr.impl.IfNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="usedInTemplate">
                    <value><![CDATA[false]]></value>
                  </attribute>
                  <attribute name="expression" valueHandler="Script">
                    <value><![CDATA[repetitionCount>1]]></value>
                  </attribute>
                  <node name="stop" class="org.onesec.raven.ivr.actions.StopConversationActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="say press 1 to delete" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_1_to_delete"/]]></value>
                  </attribute>
                </node>
                <node name="if has next message" class="org.raven.expr.impl.IfNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="usedInTemplate">
                    <value><![CDATA[false]]></value>
                  </attribute>
                  <attribute name="expression" valueHandler="Script">
                    <value><![CDATA[conversationState.bindings.hasNextMessage]]></value>
                  </attribute>
                  <node name="say and go to next" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="playAtRepetition">
                      <value></value>
                    </attribute>
                    <attribute name="audioFile" valueHandler="ResourceReference">
                      <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"and_go_to_next"/]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="say press 2 to save" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_2_to_save"/]]></value>
                  </attribute>
                </node>
                <node name="if has next message_" class="org.raven.expr.impl.IfNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="usedInTemplate">
                    <value><![CDATA[false]]></value>
                  </attribute>
                  <attribute name="expression" valueHandler="Script">
                    <value><![CDATA[conversationState.bindings.hasNextMessage]]></value>
                  </attribute>
                  <node name="say and go to next" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="playAtRepetition">
                      <value></value>
                    </attribute>
                    <attribute name="audioFile" valueHandler="ResourceReference">
                      <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"and_go_to_next"/]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="say press 3 to replay" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_3_to_replay_message"/]]></value>
                  </attribute>
                </node>
                <node name="say press * to go to main menu" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_start_for_main_menu"/]]></value>
                  </attribute>
                </node>
                <node name="pause 3 sec" class="org.onesec.raven.ivr.actions.PauseActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="interval">
                    <value><![CDATA[3000]]></value>
                  </attribute>
                </node>
                <node name="repeat" class="org.raven.conv.impl.GotoNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="conversationPoint" valueHandler="NodeReference">
                    <value><![CDATA[../]]></value>
                  </attribute>
                </node>
              </node>
            </node>
            <node name="no new messages" class="org.raven.expr.impl.DefaultCondition">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <node name="goto main menu" class="org.raven.conv.impl.GotoNode">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <attribute name="conversationPoint" valueHandler="NodeReference">
                  <value><![CDATA[../../../../main menu]]></value>
                </attribute>
              </node>
            </node>
          </node>
        </node>
        <node name="saved messages menu" class="org.onesec.raven.ivr.impl.IvrConversationScenarioPointNode">
          <attribute name="logLevel">
            <value><![CDATA[WARN]]></value>
          </attribute>
          <attribute name="validDtmfs">
            <value></value>
          </attribute>
          <node name="get saved message" class="org.raven.expr.impl.SwitchNode">
            <attribute name="logLevel">
              <value><![CDATA[WARN]]></value>
            </attribute>
            <attribute name="value" valueHandler="Script">
              <value><![CDATA[if (!conversationState.bindings.containsKey('messageIndex')) 
  conversationState.bindings.messageIndex = 0
messages = vmailBox.getSavedMessages()
messageIndex = conversationState.bindings.messageIndex
if (messages.empty || messageIndex>=messages.size()) return null

mess=messages.get(messageIndex)
conversationState.bindings.message=mess
conversationState.bindings.hasNextMessage = messageIndex<(messages.size()-1)
mess]]></value>
            </attribute>
            <node name="has message" class="org.raven.expr.impl.ExpressionConditionNode">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <attribute name="condition" valueHandler="Script">
                <value><![CDATA[value!=null]]></value>
              </attribute>
              <node name="play message" class="org.raven.tree.impl.GroupNode">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <node name="play saved message from" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value><![CDATA[0]]></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"saved_message_from_number"/]]></value>
                  </attribute>
                </node>
                <node name="play message" class="org.raven.tree.impl.GroupReferenceNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="groupNode" valueHandler="NodeReference">
                    <value><![CDATA[../../../../../"Action groups"/"play message"/]]></value>
                  </attribute>
                </node>
              </node>
              <node name="navigate" class="org.onesec.raven.ivr.impl.IvrConversationScenarioPointNode">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <attribute name="validDtmfs">
                  <value><![CDATA[123*]]></value>
                </attribute>
                <node name="if dtmf==1" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="dtmf">
                    <value><![CDATA[1]]></value>
                  </attribute>
                  <node name="delete message" class="org.onesec.raven.ivr.actions.ExecuteExpressionActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="expression" valueHandler="Script">
                      <value><![CDATA[conversationState.bindings.message.delete()]]></value>
                    </attribute>
                  </node>
                  <node name="goto saved messages menu" class="org.raven.conv.impl.GotoNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="conversationPoint" valueHandler="NodeReference">
                      <value><![CDATA[../../../../../]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="if dtmf==2" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="dtmf">
                    <value><![CDATA[2]]></value>
                  </attribute>
                  <node name="++messageIndex" class="org.onesec.raven.ivr.actions.ExecuteExpressionActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="expression" valueHandler="Script">
                      <value><![CDATA[conversationState.bindings.messageIndex++]]></value>
                    </attribute>
                  </node>
                  <node name="goto saved messages menu" class="org.raven.conv.impl.GotoNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="conversationPoint" valueHandler="NodeReference">
                      <value><![CDATA[../../../../../]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="if dtmf==3" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="dtmf">
                    <value><![CDATA[3]]></value>
                  </attribute>
                  <node name="goto saved messages menu" class="org.raven.conv.impl.GotoNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="conversationPoint" valueHandler="NodeReference">
                      <value><![CDATA[../../../../../]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="if dtmf==*" class="org.onesec.raven.ivr.actions.IfDtmfActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="dtmf">
                    <value><![CDATA[*]]></value>
                  </attribute>
                  <node name="goto new messages menu" class="org.raven.conv.impl.GotoNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="conversationPoint" valueHandler="NodeReference">
                      <value><![CDATA[../../../../../../main menu]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="if repetitionCount>1" class="org.raven.expr.impl.IfNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="usedInTemplate">
                    <value><![CDATA[false]]></value>
                  </attribute>
                  <attribute name="expression" valueHandler="Script">
                    <value><![CDATA[repetitionCount>1]]></value>
                  </attribute>
                  <node name="stop" class="org.onesec.raven.ivr.actions.StopConversationActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="say press 1 to delete" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_1_to_delete"/]]></value>
                  </attribute>
                </node>
                <node name="if has next message" class="org.raven.expr.impl.IfNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="usedInTemplate">
                    <value><![CDATA[false]]></value>
                  </attribute>
                  <attribute name="expression" valueHandler="Script">
                    <value><![CDATA[conversationState.bindings.hasNextMessage]]></value>
                  </attribute>
                  <node name="say and go to next" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="playAtRepetition">
                      <value></value>
                    </attribute>
                    <attribute name="audioFile" valueHandler="ResourceReference">
                      <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"and_go_to_next"/]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="say press 2 to save" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_2_to_save"/]]></value>
                  </attribute>
                </node>
                <node name="if has next message_" class="org.raven.expr.impl.IfNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="usedInTemplate">
                    <value><![CDATA[false]]></value>
                  </attribute>
                  <attribute name="expression" valueHandler="Script">
                    <value><![CDATA[conversationState.bindings.hasNextMessage]]></value>
                  </attribute>
                  <node name="say and go to next" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                    <attribute name="logLevel">
                      <value><![CDATA[WARN]]></value>
                    </attribute>
                    <attribute name="playAtRepetition">
                      <value></value>
                    </attribute>
                    <attribute name="audioFile" valueHandler="ResourceReference">
                      <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"and_go_to_next"/]]></value>
                    </attribute>
                  </node>
                </node>
                <node name="say press 3 to replay" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_3_to_replay_message"/]]></value>
                  </attribute>
                </node>
                <node name="say press * to go to main menu" class="org.onesec.raven.ivr.actions.PlayAudioActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="playAtRepetition">
                    <value></value>
                  </attribute>
                  <attribute name="audioFile" valueHandler="ResourceReference">
                    <value><![CDATA[/"Resources"/"IVR"/"sounds"/"vmail"/"male"/"press_start_for_main_menu"/]]></value>
                  </attribute>
                </node>
                <node name="pause 3 sec" class="org.onesec.raven.ivr.actions.PauseActionNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="interval">
                    <value><![CDATA[3000]]></value>
                  </attribute>
                </node>
                <node name="repeat" class="org.raven.conv.impl.GotoNode">
                  <attribute name="logLevel">
                    <value><![CDATA[WARN]]></value>
                  </attribute>
                  <attribute name="conversationPoint" valueHandler="NodeReference">
                    <value><![CDATA[../]]></value>
                  </attribute>
                </node>
              </node>
            </node>
            <node name="no new messages" class="org.raven.expr.impl.DefaultCondition">
              <attribute name="logLevel">
                <value><![CDATA[WARN]]></value>
              </attribute>
              <node name="goto main menu" class="org.raven.conv.impl.GotoNode">
                <attribute name="logLevel">
                  <value><![CDATA[WARN]]></value>
                </attribute>
                <attribute name="conversationPoint" valueHandler="NodeReference">
                  <value><![CDATA[../../../../main menu]]></value>
                </attribute>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
</nodes>
